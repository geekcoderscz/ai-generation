import{p as o,u as v,a as e,P as p,T as i,B as b,g as w,b as I}from"./index-CiHOBw7j.js";import{I as P,C as T,a as B}from"./Input-B0QlS2Ir.js";const j=u=>{const{id:g,provider:f}=u,[n,l]=o(""),[c,m]=o([]),[d,a]=o(!1),{t:h}=v(["common"]),y=async t=>{t.preventDefault();try{a(!0);const s={owner:"me",msg:n};m(r=>[...r,s]);const{data:C}=await I.post("/chat",{input:n},{headers:{"X-Chat-Id":g,"X-Provider":f}}),x={msg:C.response,owner:"other"};m(r=>[...r,x]),a(!1),l("")}catch(s){console.error(s)}finally{a(!1)}};return e(B,{children:[c.length>0&&e(p,{sx:{p:2},elevation:1,children:c.map(t=>e("div",{style:{display:"flex",justifyContent:t.owner==="me"?"start":"end"},children:e(p,{style:{maxWidth:"450px"},sx:{p:1,mb:2},elevation:3,children:e(i,{textAlign:t.owner==="me"?"left":"right",as:"p",children:t.msg})})}))}),e("form",{onSubmit:y,children:[e(P,{sx:{mt:4},fullWidth:!0,color:"primary",value:n,onChange:t=>l(t.currentTarget.value)}),e(b,{type:"submit",loading:"eager",children:[d&&e(w,{children:[e(i,{as:"span",sx:{mr:1},children:h("common.loading")}),e(T,{size:15,indeterminate:!0})]}),!d&&e(i,{children:h("common.submit")})]})]})]})};export{j as Chat,j as default};
