import{p as a,v as X,u as w,a as e,B as y,g as G,T as o,b}from"./index-CZhiW_Y1.js";import{I as P,C as v,a as R}from"./Input-CsjfTfGy.js";const j=C=>{const{provider:l}=C,[c]=a(X()),[r,d]=a(""),[m,u]=a(null),[g,p]=a(!1),[I,s]=a(!1),[h,f]=a(""),{t:i}=w(["common"]),L=async t=>{t.preventDefault(),u(null);try{p(!0),f("");const{data:n}=await b.get("/image",{params:{query:r},headers:{"X-Chat-Id":c,"X-Provider":l},responseType:"blob"}),x=URL.createObjectURL(n);u(x)}catch(n){n&&f(n.toString())}finally{p(!1)}},T=async()=>{try{s(!0);const{data:t}=await b.post("/chat",{input:"Give me a topic in one simple phrase that could be interesting for AI generated images"},{headers:{"X-Chat-Id":c,"X-Provider":l}});s(!1),d(t.response)}catch(t){console.error(t)}finally{s(!1)}};return e(R,{children:[e("form",{onSubmit:t=>L(t),children:[e(P,{sx:{mt:4},fullWidth:!0,color:"primary",value:r,onChange:t=>d(t.currentTarget.value)}),e(y,{disabled:r==="",type:"submit",loading:"eager",children:[g&&e(G,{children:[e(o,{as:"span",sx:{mr:1},children:i("common.loading")}),e(v,{size:15,indeterminate:!0})]}),!g&&e(o,{children:i("common.generate")})]}),e(y,{onClick:T,type:"button",loading:"eager",children:[e(o,{children:i("common.suggest")}),I&&e(v,{sx:{ml:1},size:15,indeterminate:!0})]})]}),h&&e(o,{color:"red",children:h}),m&&e("img",{style:{width:"100%"},src:m,alt:r})]})};export{j as Home,j as default};
